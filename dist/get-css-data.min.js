/*!
 * get-css-data
 * v1.2.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.getCssData=t()}(this,function(){"use strict";function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mimeType:t.mimeType||null,onComplete:t.onComplete||Function.prototype,onError:t.onError||Function.prototype,onSuccess:t.onSuccess||Function.prototype},o=Array.isArray(e)?e:[e],r=Array.apply(null,Array(o.length)).map(function(e){return null});function c(e,t){n.onError(e,o[t],t)}function l(e,t){r[t]=e,n.onSuccess(e,o[t],t),-1===r.indexOf(null)&&n.onComplete(r)}o.forEach(function(e,t){var o=document.createElement("a");o.setAttribute("href",e),o.href=o.href;var r=o.host!==location.host,u=o.protocol===location.protocol;if(r&&"undefined"!=typeof XDomainRequest)if(u){var i=new XDomainRequest;i.open("GET",e),i.timeout=0,i.onprogress=Function.prototype,i.ontimeout=Function.prototype,i.onload=function(){l(i.responseText,t)},i.onerror=function(e){c(i,t)},setTimeout(function(){i.send()},0)}else console.log("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol"),c(null,t);else{var s=new XMLHttpRequest;s.open("GET",e),n.mimeType&&s.overrideMimeType&&s.overrideMimeType(n.mimeType),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?l(s.responseText,t):c(s,t))},s.send()}})}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,n=document.implementation.createHTMLDocument(""),o=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(r),o.href=t,r.href=e,r.href}return function(n){var o={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},r={include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,onComplete:n.onComplete||Function.prototype,onError:n.onError||Function.prototype,onSuccess:n.onSuccess||Function.prototype},c=Array.apply(null,document.querySelectorAll(r.include)).filter(function(e){return t=e,n=r.exclude,!(t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector).call(t,n);var t,n}),l=Array.apply(null,Array(c.length)).map(function(e){return null});function u(){if(-1===l.indexOf(null)){var e=l.join("");r.onComplete(e,l,c)}}function i(n,c,i,s){!function n(r,c,l){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=r.replace(o.cssComments,"").match(o.cssImports);if((s=(s||[]).filter(function(e){return-1===i.indexOf(e)})).length){var a=s.map(function(e){return e.replace(o.cssImports,"$1")}).map(function(e){return t(e,c)});e(a,{onError:function(e,t,o){u.push({xhr:e,url:t}),i.push(s[o]),n(r,c,l,u,i)},onSuccess:function(e,t,o){var c=s[o],a=r.replace(c,e);n(a,t,l,u,i)}})}else l(r,u)}(n,s,function(e,t){if(null===l[c]){if(t.forEach(function(e){return r.onError(e.xhr,i,e.url)}),!r.filter||r.filter.test(e)){var n=r.onSuccess(e,i,s);l[c]=!1===n?"":n||e}else l[c]="";u()}})}c.length?c.forEach(function(n,o){var c=n.getAttribute("href"),s=n.getAttribute("rel"),a="LINK"===n.nodeName&&c&&s&&"stylesheet"===s.toLowerCase(),p="STYLE"===n.nodeName;a?e(c,{mimeType:"text/css",onError:function(e,t,c){l[o]="",r.onError(e,n,t),u()},onSuccess:function(e,r,l){var u=t(c,location.href);i(e,o,n,u)}}):p?i(n.textContent,o,n,location.href):(l[o]="",u())}):r.onComplete("",[])}});
//# sourceMappingURL=get-css-data.min.js.map
