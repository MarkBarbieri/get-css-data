/*!
 * get-css-data
 * v1.3.2
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.getCssData=n()}(this,function(){"use strict";function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},t=Array.isArray(e)?e:[e],r=Array.apply(null,Array(t.length)).map(function(e){return null});function u(e,n){o.onError(e,t[n],n)}function l(e,n){var u=o.onSuccess(e,t[n],n);e=!1===u?"":u||e,r[n]=e,-1===r.indexOf(null)&&o.onComplete(r)}t.forEach(function(e,n){var t=document.createElement("a");t.setAttribute("href",e),t.href=String(t.href);var r=t.host!==location.host,c=t.protocol===location.protocol;if(r&&"undefined"!=typeof XDomainRequest)if(c){var s=new XDomainRequest;s.open("GET",e),s.timeout=0,s.onprogress=Function.prototype,s.ontimeout=Function.prototype,s.onload=function(){l(s.responseText,n)},s.onerror=function(e){u(s,n)},setTimeout(function(){s.send()},0)}else console.log("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol"),u(null,n);else{var i=new XMLHttpRequest;i.open("GET",e),o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.onBeforeSend(i,e,n),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?l(i.responseText,n):u(i,n))},i.send()}})}function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,o=document.implementation.createHTMLDocument(""),t=o.createElement("base"),r=o.createElement("a");return o.head.appendChild(t),o.body.appendChild(r),t.href=n,r.href=e,r.href}return function(o){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},r={include:o.include||'style,link[rel="stylesheet"]',exclude:o.exclude||null,filter:o.filter||null,parseRuntime:o.parseRuntime||!1,onBeforeSend:o.onBeforeSend||Function.prototype,onSuccess:o.onSuccess||Function.prototype,onError:o.onError||Function.prototype,onComplete:o.onComplete||Function.prototype},u=Array.apply(null,document.querySelectorAll(r.include)).filter(function(e){return n=e,o=r.exclude,!(n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector).call(n,o);var n,o}),l=Array.apply(null,Array(u.length)).map(function(e){return null});function c(){if(-1===l.indexOf(null)){var e=l.join("");r.onComplete(e,l,u)}}function s(n,o,t,u){var s=r.onSuccess(n,t,u);!function n(o,t,u,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=i(o,u,s);a.rules.length?e(a.absoluteUrls,{onBeforeSend:function(e,n,o){r.onBeforeSend(e,t,n)},onSuccess:function(e,n,o){var u=r.onSuccess(e,t,n),l=i(e=!1===u?"":u||e,n,s);return l.rules.forEach(function(n,o){e=e.replace(n,l.absoluteRules[o])}),e},onError:function(e,r,i){c.push({xhr:e,url:r}),s.push(a.rules[i]),n(o,t,u,l,c,s)},onComplete:function(e){e.forEach(function(e,n){o=o.replace(a.rules[n],e)}),n(o,t,u,l,c,s)}}):l(o,c)}(n=!1===s?"":s||n,t,u,function(e,n){null===l[o]&&(n.forEach(function(e){return r.onError(e.xhr,t,e.url)}),!r.filter||r.filter.test(e)?l[o]=e:l[o]="",c())})}function i(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u={};return u.rules=(e.replace(t.cssComments,"").match(t.cssImports)||[]).filter(function(e){return-1===r.indexOf(e)}),u.urls=u.rules.map(function(e){return e.replace(t.cssImports,"$1")}),u.absoluteUrls=u.urls.map(function(e){return n(e,o)}),u.absoluteRules=u.rules.map(function(e,t){var r=u.urls[t],l=n(u.absoluteUrls[t],o);return e.replace(r,l)}),u}u.length?u.forEach(function(o,t){var u=o.getAttribute("href"),i=o.getAttribute("rel"),a="LINK"===o.nodeName&&u&&i&&"stylesheet"===i.toLowerCase(),f="STYLE"===o.nodeName;if(a)e(u,{mimeType:"text/css",onBeforeSend:function(e,n,t){r.onBeforeSend(e,o,n)},onSuccess:function(e,r,l){var c=n(u,location.href);s(e,t,o,c)},onError:function(e,n,u){l[t]="",r.onError(e,o,n),c()}});else if(f){var p=o.textContent;r.parseRuntime&&(p=Array.apply(null,o.sheet.cssRules).map(function(e){return e.cssText}).join("")),s(p,t,o,location.href)}else l[t]="",c()}):r.onComplete("",[])}});
//# sourceMappingURL=get-css-data.min.js.map
