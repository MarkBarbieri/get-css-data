/*!
 * get-css-data
 * v1.3.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.getCssData=n()}(this,function(){"use strict";function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},t=Array.isArray(e)?e:[e],r=Array.apply(null,Array(t.length)).map(function(e){return null});function c(e,n){o.onError(e,t[n],n)}function u(e,n){r[n]=e,o.onSuccess(e,t[n],n),-1===r.indexOf(null)&&o.onComplete(r)}t.forEach(function(e,n){var t=document.createElement("a");t.setAttribute("href",e),t.href=t.href;var r=t.host!==location.host,i=t.protocol===location.protocol;if(r&&"undefined"!=typeof XDomainRequest)if(i){var l=new XDomainRequest;l.open("GET",e),l.timeout=0,l.onprogress=Function.prototype,l.ontimeout=Function.prototype,l.onload=function(){u(l.responseText,n)},l.onerror=function(e){c(l,n)},setTimeout(function(){l.send()},0)}else console.log("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol"),c(null,n);else{var s=new XMLHttpRequest;s.open("GET",e),o.mimeType&&s.overrideMimeType&&s.overrideMimeType(o.mimeType),o.onBeforeSend(s,e,n),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?u(s.responseText,n):c(s,n))},s.send()}})}function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,o=document.implementation.createHTMLDocument(""),t=o.createElement("base"),r=o.createElement("a");return o.head.appendChild(t),o.body.appendChild(r),t.href=n,r.href=e,r.href}return function(o){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},r={include:o.include||'style,link[rel="stylesheet"]',exclude:o.exclude||null,filter:o.filter||null,onBeforeSend:o.onBeforeSend||Function.prototype,onSuccess:o.onSuccess||Function.prototype,onError:o.onError||Function.prototype,onComplete:o.onComplete||Function.prototype},c=Array.apply(null,document.querySelectorAll(r.include)).filter(function(e){return n=e,o=r.exclude,!(n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector).call(n,o);var n,o}),u=Array.apply(null,Array(c.length)).map(function(e){return null});function i(){if(-1===u.indexOf(null)){var e=u.join("");r.onComplete(e,u,c)}}function l(o,c,l,s){!function o(c,u,i,l){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=c.replace(t.cssComments,"").match(t.cssImports);if((a=(a||[]).filter(function(e){return-1===f.indexOf(e)})).length){var p=a.map(function(e){return e.replace(t.cssImports,"$1")}).map(function(e){return n(e,i)});e(p,{onBeforeSend:function(e,n,o){r.onBeforeSend(e,u,n)},onError:function(e,n,t){s.push({xhr:e,url:n}),f.push(a[t]),o(c,u,i,l,s,f)},onSuccess:function(e,n,t){var r=a[t],i=c.replace(r,e);o(i,u,n,l,s,f)}})}else l(c,s)}(o,l,s,function(e,n){if(null===u[c]){if(n.forEach(function(e){return r.onError(e.xhr,l,e.url)}),!r.filter||r.filter.test(e)){var o=r.onSuccess(e,l,s);u[c]=!1===o?"":o||e}else u[c]="";i()}})}c.length?c.forEach(function(o,t){var c=o.getAttribute("href"),s=o.getAttribute("rel"),f="LINK"===o.nodeName&&c&&s&&"stylesheet"===s.toLowerCase(),a="STYLE"===o.nodeName;f?e(c,{mimeType:"text/css",onBeforeSend:function(e,n,t){r.onBeforeSend(e,o,n)},onError:function(e,n,c){u[t]="",r.onError(e,o,n),i()},onSuccess:function(e,r,u){var i=n(c,location.href);l(e,t,o,i)}}):a?l(o.textContent,t,o,location.href):(u[t]="",i())}):r.onComplete("",[])}});
//# sourceMappingURL=get-css-data.min.js.map
